# 设计架构

- 使用工厂模式构建数据模块，将业务端与数据端完全分离
- 使用工厂模式构建上报模块，可以将内容上报到 es，redis 等

数据上报的条件：
- 批量投递：buffer 已满，马上投递
- 超时投递：只要 buffer 有数据，并且到达了投递时间，也会马上投递
